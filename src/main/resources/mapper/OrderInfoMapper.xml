<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.terminator.smart.parking.dao.OrderDao">
    <!--通过id返回订单信息-->
    <select id="selectId" resultType="com.terminator.smart.parking.entity.Order">
		 SELECT
		`order`.order_id,
		`order`.username,
		`order`.license_number,
		`order`.parking_name,
		`order`.create_time,
		`order`.stop_time,
		`order`.order_status,
		`order`.flag
		FROM
		`order`
		WHERE
		`order`.order_id = #{orderId}

	</select>
	<!--修改订单信息-->
	<update id="update" parameterType="com.terminator.smart.parking.entity.Order">
          UPDATE `smartparking`.`order`
		SET
		 `username` = #{username},
		 `license_number` = #{licenseNumber},
		 `parking_name` = #{parkingName},
		 `create_time` = #{createTime},
		 `stop_time` = #{stopTime},
		 `order_status` = #{orderStatus}
		WHERE
			(`order_id` = #{orderId});
	</update>

    <!--伪删除订单-->
	<update id="deleteByFlag" parameterType="com.terminator.smart.parking.entity.Order">
            UPDATE `smartparking`.`order`
            SET
           `flag` = '0'
           WHERE
	       (`order_id` = #{orderId});

	</update>


	<!--添加订单-->
	<insert id="insert" parameterType="com.terminator.smart.parking.entity.Order">
	INSERT INTO `smartparking`.`order` (
	`username`,
	`license_number`,
	`parking_name`,
	`create_time`,
	`stop_time`,
	`order_status`,
	`flag`
)
VALUES
	(
		#{username},
		#{licenseNumber},
		#{parkingName},
		#{createTime},
		#{stopTime},
		#{orderStatus},
		#{flag}
	);

	</insert>



</mapper>